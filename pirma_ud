#include <iostream>
#include <string>
#include <vector>
#include <iomanip>
using std::cout;
using std::cin;
using std::endl;
using std::string;
using std::vector;
using std::setw;
using std::left;
using std::right;
using std::sort;

struct studentas{
    string var;
    string pav;
    vector <int> paz;
    int egz;
    double gal;
    double med;
    };

studentas stud_iv();

//using namespace std;
int main()
{
    int n;
    vector <studentas> grupe;
    cout << "Kiek studentu grupeje? "; cin >> n;
    for(auto i = 0; i < n; i++){
        grupe.push_back(stud_iv());
    }


    for(auto pirmas:grupe){
        cout << "Studento info: " << endl;
        cout << setw(10) << left <<pirmas.var <<"|"<< setw(15) << right << pirmas.pav << "|";
        for(auto& i : pirmas.paz) cout<<setw(3) << i << "|";
        cout << setw(5) << pirmas.egz << "|" << setw(10) << pirmas.gal << "|" << setw(10) << pirmas.med << endl;
    }
    
        
}

studentas stud_iv(){
    int n, laik_paz, sum = 0;
    studentas pirmas;
    cout << "Iveskite studento duomenis" << endl;
    cout << "Vardas: "; cin >> pirmas.var;
    cout << "Pavarde: "; cin >> pirmas.pav;
    cout << "Kiek pazymiu turi studentas: " << pirmas.var << " " << pirmas.pav << ": "; cin >> n;
    cout << n/2;
    cout << "Iveskite studento pazymius: " << endl;
    for(int i = 0; i < n; i++)
    {
        cout << i+1 << " "; cin >> laik_paz;
        pirmas.paz.push_back(laik_paz);
        sum += laik_paz; //sum += pirmas.paz[i];
    }
    cout << "Iveskite egzamino pazymi: "; cin >> pirmas.egz;
    pirmas.gal = double(sum)/double(n)*0.4 + pirmas.egz*0.6;
    vector <int> isrikiuoti_paz = pirmas.paz;
    isrikiuoti_paz.push_back(pirmas.egz);
    sort(isrikiuoti_paz.begin(), isrikiuoti_paz.end());
    n++;
    if (n % 2 == 0) {
        pirmas.med = (isrikiuoti_paz[n/2 - 1] + isrikiuoti_paz[n/2]) / 2.0;
    } else {
        pirmas.med = isrikiuoti_paz[n/2];
    }
    return pirmas;
}

//pakeitimai
//prideta mediana
